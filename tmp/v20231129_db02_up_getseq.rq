# Get aa_sequence of canonical isoform from uniprot
# saved as v20231129_db02_up_getseq.tsv

PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX up: <http://purl.uniprot.org/uniprot/>
PREFIX core: <http://purl.uniprot.org/core/>
PREFIX : <https://ktamura2021.github.io/triterpene_rdf/ontology.ttl#>

SELECT ?ID ?aa_sequence
WHERE {
  ?s  :ID ?ID ;
      :uniprot ?uniprot .
  SERVICE <https://rdfportal.org/sib/sparql> {
    ?uniprot core:sequence ?isoform .
    ?isoform rdf:type/rdfs:label ?isoform_type .
    ?isoform rdf:value ?aa_sequence .
  FILTER CONTAINS(?isoform_type, "Simple Sequence")
  }       
}